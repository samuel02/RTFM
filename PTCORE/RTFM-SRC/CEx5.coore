
class R<int my_id, void (int) other_fun> { 
    void fun(int from_id) {
        RT_printf("in fun task %d, from task %d", my_id, from_id);
    } 
    
    Task task () {
        RT_printf("task %d \n", my_id);
        RT_sleep(1);
        other_fun(my_id);
    }    
}


class Root<> { 
    R<1, r2.fun> r1;
    R<2, r1.fun> r2;
    
    Reset {
        Async r1.task(); // task1
        Async r2.task(); // task2
    } 
}